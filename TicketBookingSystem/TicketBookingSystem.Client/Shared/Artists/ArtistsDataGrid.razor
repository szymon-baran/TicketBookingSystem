@using TicketBookingSystem.Shared.Domain
@inject IArtistService ArtistService
@inject NavigationManager NavigationManager

    <MudGrid>
        @foreach(Artist artist in ArtistService.Artists)
        {
        <MudItem xs="3">
            <MudCard Class="rounded-lg">
                    <MudCardMedia Image="@(artist.PhotoUrl == "" ? "https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png" : artist.PhotoUrl)" Height="200" />
                <MudCardContent>
                    <MudText Typo="Typo.h5">@artist.NickName</MudText>
                    <MudText Typo="Typo.caption">@artist.FirstName @artist.LastName</MudText>
                </MudCardContent>
                <MudCardActions Class="mt-n3">
                    <MudButton Variant="Variant.Text" Color="Color.Primary" @onclick="@(() => RouteToDetails(@artist.Id))">Szczegóły</MudButton>
                    <MudButton Variant="Variant.Text" Color="Color.Primary" @onclick="@(() => RouteToEdit(@artist.Id))">Edytuj</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
        }
    </MudGrid>


@code {
    protected override async Task OnInitializedAsync()
    {
        await ArtistService.GetArtistsList();
    }

    void RouteToDetails(int id)
    {
        NavigationManager.NavigateTo($"/artist/{id}");
    }

    void RouteToEdit(int id)
    {
        NavigationManager.NavigateTo($"/artist/edit/{id}");
    }
}
